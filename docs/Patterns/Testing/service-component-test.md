# Шаблон: Компонентное тестирование сервиса

[Оригинал](https://microservices.io/patterns/testing/service-component-test.html)

## Дано

Вы воспользовались шаблоном [Микросервисная архитектура](../Application-architecture-patterns/pattern-microservice-architecture.md). Приложение 
состоит из множества сервисов. Сервисы часто вызывают другие сервисы. Вы 
должны написать автоматические тесты, которые проверяют правильность работы 
сервиса.

## Задача

Как легко протестировать сервис?

## Дополнительные условия

* Использовать сквозное тестирование (т. е. тесты, запускающие несколько 
  сервисов) сложно, медленно, ненадежно и дорого.

## Решение

Набор тестов, тестирующий сервис изолированно, используя тестовые «двойники» 
для любых сервисов, которые он вызывает.

## Примеры

[Spring Cloud Contract](https://cloud.spring.io/spring-cloud-contract/) — это 
проект с открытым исходным кодом, который поддерживает этот стиль 
тестирования.

## Преимущества и недостатки

Этот шаблон имеет следующие преимущества:

* Тестировать сервис изолированно проще, быстрее, надежнее и дешевле

Этот шаблон имеет следующие недостатки:

* Тесты могут быть успешно пройдены, но приложение не будет работать

Этот шаблон имеет следующие проблемы:

* Как сделать так, чтобы тестовые «двойники» всегда корректно эмулировали 
  поведение вызываемых сервисов?

## Связанные шаблоны

* Смотри [Тестирование сервиса с использованием контракта, проверяющего отвечает ли
  он ожиданиям потребителя](service-integration-contract-test.md)

## Смотри также

* Смотри [Покомпонентное тестирование](http://martinfowler.com/articles/microservice-testing/#testing-component-introduction)